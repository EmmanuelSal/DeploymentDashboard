{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Emman\\\\Documents\\\\ME4\\\\FYP\\\\FinalDash\\\\shards-dashboard-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Emman\\\\Documents\\\\ME4\\\\FYP\\\\FinalDash\\\\shards-dashboard-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Emman\\\\Documents\\\\ME4\\\\FYP\\\\FinalDash\\\\shards-dashboard-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Emman\\\\Documents\\\\ME4\\\\FYP\\\\FinalDash\\\\shards-dashboard-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Emman\\\\Documents\\\\ME4\\\\FYP\\\\FinalDash\\\\shards-dashboard-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Emman\\\\Documents\\\\ME4\\\\FYP\\\\FinalDash\\\\shards-dashboard-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Emman\\\\Documents\\\\ME4\\\\FYP\\\\FinalDash\\\\shards-dashboard-react\\\\src\\\\components\\\\blog\\\\UsersOverview.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Row, Col, Card, CardHeader, CardBody, Button } from \"shards-react\";\nimport * as d3 from \"d3\";\nimport RangeDatePicker from \"../common/RangeDatePicker\";\nimport Chart from \"../../utils/chart\";\nimport NavbarSearch from '../layout/MainNavbar/NavbarSearch'; // function getUserName() {\n//   var nameField = document.getElementById('nameField').value;\n//   var result = document.getElementById('result');\n//   let myChart = document.getElementById('myChart').getContext('2d');\n\nvar Scores = [];\nvar ColumnTitle = [];\n\nvar initializeData = function initializeData() {\n  console.log(window.location.hash && window.location.hash.length > 5 ? window.location.hash.replace('#', '') : '59194883');\n  d3.csv(\"https://graphtest123.s3.eu-west-2.amazonaws.com/Y1_all_20210409_anonymous.csv\") // request csv file\n  .then(makeChart); // converts into an array then call makeChart() function\n  // calls function to make a chart after it has been converted into an array\n\n  function makeChart(students) {\n    Scores = [];\n    ColumnTitle = [];\n\n    for (var i = 14; i < Object.keys(students[0]).length - 11; i++) {\n      ColumnTitle.push(Object.keys(students[0])[i]);\n    } // for loop to check and calculate the days after lecture when students started tutorial sheet\n\n\n    for (var i = 0; i < students.length; i++) {\n      if (students[i][\"Student ID\"] === (window.location.hash && window.location.hash.length > 5 ? window.location.hash.replace('#', '') : '59194883')) {\n        for (var j = 14; j < Object.values(students[i]).length - 11; j++) {\n          Scores.push(Object.values(students[i])[j]);\n        }\n      }\n    }\n\n    ;\n  }\n};\n\nvar UsersOverview = /*#__PURE__*/function (_React$Component) {\n  _inherits(UsersOverview, _React$Component);\n\n  //static contextType = StudentIdContext;\n  function UsersOverview(props) {\n    var _this;\n\n    _classCallCheck(this, UsersOverview);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UsersOverview).call(this, props));\n    _this.canvasRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(UsersOverview, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener(\"hashchange\", initializeData);\n      initializeData();\n      this.myChart = new Chart(this.canvasRef.current, _defineProperty({\n        type: 'bar',\n        data: {\n          labels: ColumnTitle,\n          datasets: [{\n            label: 'Average Progress Mark',\n            data: Scores,\n            backgroundColor: ['#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc'],\n            borderColor: ['#0000cc'],\n            borderWidth: 1\n          }]\n        },\n        options: {\n          responsive: false,\n          scales: {\n            xAxes: [{\n              ticks: {\n                maxRotation: 90,\n                minRotation: 80\n              }\n            }],\n            yAxes: [{\n              ticks: {\n                beginAtZero: true\n              }\n            }]\n          }\n        }\n      }, \"options\", {\n        title: {\n          display: true,\n          text: 'Search Student ID to get overall data',\n          fontSize: 25\n        },\n        scales: {\n          xAxes: [{\n            display: true,\n            scaleLabel: {\n              display: true,\n              labelString: 'Mech Eng Exams'\n            }\n          }],\n          yAxes: [{\n            display: true,\n            scaleLabel: {\n              display: true,\n              labelString: 'Marks(%)'\n            }\n          }]\n        },\n        maintainAspectRatio: false,\n        legend: {\n          position: 'right',\n          display: false,\n          labels: {\n            fontColor: '#000'\n          }\n        },\n        layout: {\n          padding: {\n            left: 50,\n            right: 50,\n            bottom: 0,\n            top: 0\n          }\n        }\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"canvas\", {\n        ref: this.canvasRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 8\n        }\n      });\n    }\n  }]);\n\n  return UsersOverview;\n}(React.Component);\n\nexport default UsersOverview;","map":{"version":3,"sources":["C:/Users/Emman/Documents/ME4/FYP/FinalDash/shards-dashboard-react/src/components/blog/UsersOverview.js"],"names":["React","PropTypes","Row","Col","Card","CardHeader","CardBody","Button","d3","RangeDatePicker","Chart","NavbarSearch","Scores","ColumnTitle","initializeData","console","log","window","location","hash","length","replace","csv","then","makeChart","students","i","Object","keys","push","j","values","UsersOverview","props","canvasRef","createRef","addEventListener","myChart","current","type","data","labels","datasets","label","backgroundColor","borderColor","borderWidth","options","responsive","scales","xAxes","ticks","maxRotation","minRotation","yAxes","beginAtZero","title","display","text","fontSize","scaleLabel","labelString","maintainAspectRatio","legend","position","fontColor","layout","padding","left","right","bottom","top","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyBC,UAAzB,EAAqCC,QAArC,EAA+CC,MAA/C,QAA6D,cAA7D;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;AACA,OAAOC,eAAP,MAA4B,2BAA5B;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,YAAP,MAAyB,mCAAzB,C,CAEA;AACA;AACA;AAEA;;AACA,IAAIC,MAAM,GAAG,EAAb;AACA,IAAIC,WAAW,GAAG,EAAlB;;AACA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAK;AAC1BC,EAAAA,OAAO,CAACC,GAAR,CAAYC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,IAAwBF,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,MAArB,GAA8B,CAAtD,GAA0DH,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBE,OAArB,CAA6B,GAA7B,EAAiC,EAAjC,CAA1D,GAAiG,UAA7G;AACAb,EAAAA,EAAE,CAACc,GAAH,CAAO,+EAAP,EAAwF;AAAxF,GACCC,IADD,CACMC,SADN,EAF0B,CAGR;AAElB;;AACA,WAASA,SAAT,CAAmBC,QAAnB,EAA6B;AACvBb,IAAAA,MAAM,GAAG,EAAT;AACAC,IAAAA,WAAW,GAAE,EAAb;;AACE,SAAK,IAAIa,CAAC,GAAC,EAAX,EAAeA,CAAC,GAACC,MAAM,CAACC,IAAP,CAAYH,QAAQ,CAAC,CAAD,CAApB,EAAyBL,MAAzB,GAAkC,EAAnD,EAAuDM,CAAC,EAAxD,EAA2D;AACvDb,MAAAA,WAAW,CAACgB,IAAZ,CAAiBF,MAAM,CAACC,IAAP,CAAYH,QAAQ,CAAC,CAAD,CAApB,EAAyBC,CAAzB,CAAjB;AACH,KALoB,CAOrB;;;AACA,SAAK,IAAIA,CAAC,GAAE,CAAZ,EAAeA,CAAC,GAAGD,QAAQ,CAACL,MAA5B,EAAoCM,CAAC,EAArC,EAAwC;AACpC,UAAID,QAAQ,CAACC,CAAD,CAAR,CAAY,YAAZ,OAA+BT,MAAM,CAACC,QAAP,CAAgBC,IAAhB,IAAwBF,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,MAArB,GAA8B,CAAtD,GAA0DH,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBE,OAArB,CAA6B,GAA7B,EAAiC,EAAjC,CAA1D,GAAiG,UAAhI,CAAJ,EAAgJ;AAC5I,aAAK,IAAIS,CAAC,GAAC,EAAX,EAAeA,CAAC,GAACH,MAAM,CAACI,MAAP,CAAcN,QAAQ,CAACC,CAAD,CAAtB,EAA2BN,MAA3B,GAAoC,EAArD,EAAyDU,CAAC,EAA1D,EAA6D;AACzDlB,UAAAA,MAAM,CAACiB,IAAP,CAAYF,MAAM,CAACI,MAAP,CAAcN,QAAQ,CAACC,CAAD,CAAtB,EAA2BI,CAA3B,CAAZ;AACH;AACJ;AACJ;;AAAA;AACJ;AACN,CAtBD;;IA0BME,a;;;AACJ;AACF,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACnB,uFAAMA,KAAN;AACA,UAAKC,SAAL,GAAiBlC,KAAK,CAACmC,SAAN,EAAjB;AAFmB;AAGlB;;;;wCAEmB;AAClBlB,MAAAA,MAAM,CAACmB,gBAAP,CAAwB,YAAxB,EAAqCtB,cAArC;AACAA,MAAAA,cAAc;AAChB,WAAKuB,OAAL,GAAe,IAAI3B,KAAJ,CAAU,KAAKwB,SAAL,CAAeI,OAAzB;AACfC,QAAAA,IAAI,EAAE,KADS;AAEfC,QAAAA,IAAI,EAAE;AACJC,UAAAA,MAAM,EAAE5B,WADJ;AAEJ6B,UAAAA,QAAQ,EAAE,CAAC;AACXC,YAAAA,KAAK,EAAE,uBADI;AAEXH,YAAAA,IAAI,EAAE5B,MAFK;AAGXgC,YAAAA,eAAe,EAAE,CACb,SADa,EACF,SADE,EACS,SADT,EACoB,SADpB,EAC+B,SAD/B,EAC0C,SAD1C,EACqD,SADrD,EACgE,SADhE,EAC2E,SAD3E,EACsF,SADtF,EACiG,SADjG,EAC4G,SAD5G,EACuH,SADvH,EACkI,SADlI,EAC6I,SAD7I,EACwJ,SADxJ,EACmK,SADnK,EAC8K,SAD9K,EACyL,SADzL,EACoM,SADpM,EAC+M,SAD/M,EAC0N,SAD1N,EACqO,SADrO,EACgP,SADhP,EAC2P,SAD3P,EACsQ,SADtQ,EACiR,SADjR,EAC4R,SAD5R,EACuS,SADvS,EACkT,SADlT,EAC6T,SAD7T,EACwU,SADxU,EACmV,SADnV,EAC8V,SAD9V,EACyW,SADzW,EACoX,SADpX,EAC+X,SAD/X,EAC0Y,SAD1Y,EACqZ,SADrZ,EACga,SADha,EAC2a,SAD3a,EACsb,SADtb,EACic,SADjc,EAC4c,SAD5c,EACud,SADvd,EACke,SADle,CAHN;AAOXC,YAAAA,WAAW,EAAE,CACT,SADS,CAPF;AAUXC,YAAAA,WAAW,EAAE;AAVF,WAAD;AAFN,SAFS;AAiBfC,QAAAA,OAAO,EAAE;AACPC,UAAAA,UAAU,EAAE,KADL;AAEPC,UAAAA,MAAM,EAAE;AACRC,YAAAA,KAAK,EAAE,CAAC;AACJC,cAAAA,KAAK,EAAE;AACPC,gBAAAA,WAAW,EAAE,EADN;AAEPC,gBAAAA,WAAW,EAAE;AAFN;AADH,aAAD,CADC;AAORC,YAAAA,KAAK,EAAE,CAAC;AACJH,cAAAA,KAAK,EAAE;AACPI,gBAAAA,WAAW,EAAE;AADN;AADH,aAAD;AAPC;AAFD;AAjBM,oBAiCN;AACPC,QAAAA,KAAK,EAAE;AACHC,UAAAA,OAAO,EAAE,IADN;AAEHC,UAAAA,IAAI,EAAE,uCAFH;AAGHC,UAAAA,QAAQ,EAAE;AAHP,SADA;AAMPV,QAAAA,MAAM,EAAE;AACJC,UAAAA,KAAK,EAAE,CAAC;AACJO,YAAAA,OAAO,EAAE,IADL;AAEJG,YAAAA,UAAU,EAAE;AACRH,cAAAA,OAAO,EAAE,IADD;AAERI,cAAAA,WAAW,EAAE;AAFL;AAFR,WAAD,CADH;AAQJP,UAAAA,KAAK,EAAE,CAAC;AACJG,YAAAA,OAAO,EAAE,IADL;AAEJG,YAAAA,UAAU,EAAE;AACRH,cAAAA,OAAO,EAAE,IADD;AAERI,cAAAA,WAAW,EAAE;AAFL;AAFR,WAAD;AARH,SAND;AAsBPC,QAAAA,mBAAmB,EAAE,KAtBd;AAuBPC,QAAAA,MAAM,EAAE;AACJC,UAAAA,QAAQ,EAAE,OADN;AAEJP,UAAAA,OAAO,EAAE,KAFL;AAGJhB,UAAAA,MAAM,EAAE;AACJwB,YAAAA,SAAS,EAAE;AADP;AAHJ,SAvBD;AA8BPC,QAAAA,MAAM,EAAE;AACJC,UAAAA,OAAO,EAAE;AACLC,YAAAA,IAAI,EAAE,EADD;AAELC,YAAAA,KAAK,EAAE,EAFF;AAGLC,YAAAA,MAAM,EAAE,CAHH;AAILC,YAAAA,GAAG,EAAC;AAJC;AADL;AA9BD,OAjCM,EAAf;AA0EC;;;6BAEQ;AACT,0BAAO;AAAQ,QAAA,GAAG,EAAE,KAAKrC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACC;;;;EAxF2BlC,KAAK,CAACwE,S;;AA4FlC,eAAexC,aAAf","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Row, Col, Card, CardHeader, CardBody, Button } from \"shards-react\";\nimport * as d3 from \"d3\";\nimport RangeDatePicker from \"../common/RangeDatePicker\";\nimport Chart from \"../../utils/chart\";\nimport NavbarSearch from '../layout/MainNavbar/NavbarSearch';\n\n// function getUserName() {\n//   var nameField = document.getElementById('nameField').value;\n//   var result = document.getElementById('result');\n\n//   let myChart = document.getElementById('myChart').getContext('2d');\nvar Scores = [];\nvar ColumnTitle = [];\nconst initializeData = () =>{\n  console.log(window.location.hash && window.location.hash.length > 5 ? window.location.hash.replace('#','') : '59194883')\n  d3.csv(\"https://graphtest123.s3.eu-west-2.amazonaws.com/Y1_all_20210409_anonymous.csv\") // request csv file\n  .then(makeChart); // converts into an array then call makeChart() function\n\n  // calls function to make a chart after it has been converted into an array\n  function makeChart(students) { \n        Scores = [];\n        ColumnTitle =[];\n          for (var i=14; i<Object.keys(students[0]).length - 11; i++){\n              ColumnTitle.push(Object.keys(students[0])[i])\n          }\n          \n          // for loop to check and calculate the days after lecture when students started tutorial sheet\n          for (var i =0; i < students.length; i++){\n              if (students[i][\"Student ID\"] === (window.location.hash && window.location.hash.length > 5 ? window.location.hash.replace('#','') : '59194883')){\n                  for (var j=14; j<Object.values(students[i]).length - 11; j++){\n                      Scores.push(Object.values(students[i])[j])\n                  }\n              } \n          };\n      }\n}\n\n\n\nclass UsersOverview extends React.Component {\n  //static contextType = StudentIdContext;\nconstructor(props) {\nsuper(props);\nthis.canvasRef = React.createRef();\n}\n\ncomponentDidMount() {\n  window.addEventListener(\"hashchange\",initializeData)\n  initializeData();\nthis.myChart = new Chart(this.canvasRef.current, {\ntype: 'bar',\ndata: {\n  labels: ColumnTitle,\n  datasets: [{\n  label: 'Average Progress Mark',\n  data: Scores,\n  backgroundColor: [\n      '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc', '#0000cc'\n\n  ],\n  borderColor: [\n      '#0000cc',\n  ],\n  borderWidth: 1\n  }]\n},\noptions: {\n  responsive: false,\n  scales: {\n  xAxes: [{\n      ticks: {\n      maxRotation: 90,\n      minRotation: 80\n      }\n  }],\n  yAxes: [{\n      ticks: {\n      beginAtZero: true\n      }\n  }]\n  }\n},\noptions: {\n  title: {\n      display: true,\n      text: 'Search Student ID to get overall data',\n      fontSize: 25\n  },\n  scales: {\n      xAxes: [{\n          display: true,\n          scaleLabel: {\n              display: true,\n              labelString: 'Mech Eng Exams'\n          }\n      }],\n      yAxes: [{\n          display: true,\n          scaleLabel: {\n              display: true,\n              labelString: 'Marks(%)'\n          }\n      }]\n  },\n  maintainAspectRatio: false,\n  legend: {\n      position: 'right',\n      display: false,\n      labels: {\n          fontColor: '#000'\n      }\n  },\n  layout: {\n      padding: {\n          left: 50,\n          right: 50,\n          bottom: 0,\n          top:0\n      }\n  },\n}\n\n});\n}\n\nrender() {\nreturn <canvas ref={this.canvasRef} />;\n}\n}\n\n\nexport default UsersOverview;"]},"metadata":{},"sourceType":"module"}
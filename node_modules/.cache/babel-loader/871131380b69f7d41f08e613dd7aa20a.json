{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Emman\\\\Documents\\\\ME4\\\\FYP\\\\FinalDash\\\\shards-dashboard-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Emman\\\\Documents\\\\ME4\\\\FYP\\\\FinalDash\\\\shards-dashboard-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Emman\\\\Documents\\\\ME4\\\\FYP\\\\FinalDash\\\\shards-dashboard-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Emman\\\\Documents\\\\ME4\\\\FYP\\\\FinalDash\\\\shards-dashboard-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Emman\\\\Documents\\\\ME4\\\\FYP\\\\FinalDash\\\\shards-dashboard-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Emman\\\\Documents\\\\ME4\\\\FYP\\\\FinalDash\\\\shards-dashboard-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Emman\\\\Documents\\\\ME4\\\\FYP\\\\FinalDash\\\\shards-dashboard-react\\\\src\\\\components\\\\2020Graphs\\\\TimeAnyalsis.js\";\nimport React from 'react';\nimport Chart from \"../../utils/chart\";\nimport * as d3 from \"d3\";\nvar dataNeed = [];\nd3.csv(\"https://graphtest123.s3.eu-west-2.amazonaws.com/Fluids_Mobius_gradebook_sheets_1-18.csv\") // request csv file\n.then(makeChart); // converts into an array then call makeChart() function\n// calls function to make a chart after it has been converted into an array\n\nfunction makeChart(students) {\n  // takes in an array of students\n  // Student is an array of objects where each object is something like:\n  // {\n  //   \"Given\": \"Steffi Graf\",\n  //   \"Last\": \"Graf\",     \n  //   \"Class\": \"MECH50010 - Fluid Mechanics 2 2020-2021\",\n  //   \"Gender\": \"Female\"\n  //   \"Attempts\" : \"0\"\n  // }\n  console.log(students); //make dictionary for tutorial sheets - put in same order as csv\n\n  var dictSheet = {\n    Sheet18: [],\n    Sheet17: [],\n    Sheet16: [],\n    Sheet15: [],\n    Sheet14: [],\n    Sheet13: [],\n    Sheet12: [],\n    Sheet11: [],\n    Sheet10: [],\n    Sheet9: [],\n    Sheet8: [],\n    Sheet7: [],\n    Sheet6: [],\n    Sheet5: [],\n    Sheet4: [],\n    Sheet3: [],\n    Sheet2: [],\n    Sheet1: []\n  }; // for loop to check the week day when students started tutorial sheet\n\n  for (var i = 0; i < students.length; i++) {\n    var count = -1;\n\n    for (var j = 9; j <= 94; j += 5) {\n      var key = Object.keys(students[i])[j]; // access title of start times\n\n      var value = students[i][key]; // gives date in raw form\n      //convert date string into a time object\n\n      var date = new Date(value);\n      var weekNumber = weekOfYear(date); //need to account for imperial calendar with 3rd october as week 1\n\n      if (weekOfYear(date) >= 40) {\n        weekNumber -= 39;\n      } else {\n        weekNumber += 13;\n      } // console.log(\"This is the time in week\" + \" \" + weekOfYear(date) + \"this is imperial week:\" + \" \" + weekNumber)   \n\n\n      if (value != 0) {\n        count++;\n      } else {\n        continue;\n      }\n\n      key = Object.keys(dictSheet)[count]; //accesses tutorial sheet dictionary\n\n      dictSheet[key][i] = weekNumber;\n    }\n  }\n\n  ; // console.log(\"outside the loop  \" + Object.values(dictSheet)[17])\n  // counts and order the total students who started tutorial sheet18 in that week. key(week) : value(occurances)\n\n  var Tutorial1 = _.countBy(Object.values(dictSheet)[17]);\n\n  var Tutorial2 = _.countBy(Object.values(dictSheet)[16]);\n\n  var Tutorial3 = _.countBy(Object.values(dictSheet)[15]);\n\n  var Tutorial4 = _.countBy(Object.values(dictSheet)[14]);\n\n  var Tutorial5 = _.countBy(Object.values(dictSheet)[13]);\n\n  var Tutorial6 = _.countBy(Object.values(dictSheet)[12]);\n\n  var Tutorial7 = _.countBy(Object.values(dictSheet)[11]);\n\n  var Tutorial8 = _.countBy(Object.values(dictSheet)[10]);\n\n  var Tutorial9 = _.countBy(Object.values(dictSheet)[9]);\n\n  var Tutorial10 = _.countBy(Object.values(dictSheet)[8]);\n\n  var Tutorial11 = _.countBy(Object.values(dictSheet)[7]);\n\n  var Tutorial12 = _.countBy(Object.values(dictSheet)[6]);\n\n  var Tutorial13 = _.countBy(Object.values(dictSheet)[5]);\n\n  var Tutorial14 = _.countBy(Object.values(dictSheet)[4]);\n\n  var Tutorial15 = _.countBy(Object.values(dictSheet)[3]);\n\n  var Tutorial16 = _.countBy(Object.values(dictSheet)[2]);\n\n  var Tutorial17 = _.countBy(Object.values(dictSheet)[1]);\n\n  var Tutorial18 = _.countBy(Object.values(dictSheet)[0]);\n\n  console.log(dictSheet);\n  console.log(Tutorial18); // creates array of weeks\n  // var page2 = Object.values(dictSheet)[0]\n  // console.log(page2)\n\n  var newData18 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial18).length; j++) {\n    newData18.push({\n      x: Object.keys(Tutorial18)[j],\n      y: Object.values(Tutorial18)[j]\n    });\n  }\n\n  var newData17 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial17).length; j++) {\n    newData17.push({\n      x: Object.keys(Tutorial17)[j],\n      y: Object.values(Tutorial17)[j]\n    });\n  }\n\n  var newData16 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial16).length; j++) {\n    newData16.push({\n      x: Object.keys(Tutorial16)[j],\n      y: Object.values(Tutorial16)[j]\n    });\n  }\n\n  var newData15 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial15).length; j++) {\n    newData15.push({\n      x: Object.keys(Tutorial15)[j],\n      y: Object.values(Tutorial15)[j]\n    });\n  }\n\n  var newData14 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial14).length; j++) {\n    newData14.push({\n      x: Object.keys(Tutorial14)[j],\n      y: Object.values(Tutorial14)[j]\n    });\n  }\n\n  var newData13 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial13).length; j++) {\n    newData13.push({\n      x: Object.keys(Tutorial13)[j],\n      y: Object.values(Tutorial13)[j]\n    });\n  }\n\n  var newData12 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial12).length; j++) {\n    newData12.push({\n      x: Object.keys(Tutorial12)[j],\n      y: Object.values(Tutorial12)[j]\n    });\n  }\n\n  var newData11 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial11).length; j++) {\n    newData11.push({\n      x: Object.keys(Tutorial11)[j],\n      y: Object.values(Tutorial11)[j]\n    });\n  }\n\n  var newData10 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial10).length; j++) {\n    newData10.push({\n      x: Object.keys(Tutorial10)[j],\n      y: Object.values(Tutorial10)[j]\n    });\n  }\n\n  var newData9 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial9).length; j++) {\n    newData9.push({\n      x: Object.keys(Tutorial9)[j],\n      y: Object.values(Tutorial9)[j]\n    });\n  }\n\n  var newData8 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial8).length; j++) {\n    newData8.push({\n      x: Object.keys(Tutorial8)[j],\n      y: Object.values(Tutorial8)[j]\n    });\n  }\n\n  var newData7 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial7).length; j++) {\n    newData7.push({\n      x: Object.keys(Tutorial7)[j],\n      y: Object.values(Tutorial7)[j]\n    });\n  }\n\n  var newData6 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial6).length; j++) {\n    newData6.push({\n      x: Object.keys(Tutorial6)[j],\n      y: Object.values(Tutorial6)[j]\n    });\n  }\n\n  var newData5 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial5).length; j++) {\n    newData5.push({\n      x: Object.keys(Tutorial5)[j],\n      y: Object.values(Tutorial5)[j]\n    });\n  }\n\n  var newData4 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial4).length; j++) {\n    newData4.push({\n      x: Object.keys(Tutorial4)[j],\n      y: Object.values(Tutorial4)[j]\n    });\n  }\n\n  var newData3 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial3).length; j++) {\n    newData3.push({\n      x: Object.keys(Tutorial3)[j],\n      y: Object.values(Tutorial3)[j]\n    });\n  }\n\n  var newData2 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial2).length; j++) {\n    newData2.push({\n      x: Object.keys(Tutorial2)[j],\n      y: Object.values(Tutorial2)[j]\n    });\n  }\n\n  var newData1 = [];\n\n  for (var j = 0; j < Object.keys(Tutorial1).length; j++) {\n    newData1.push({\n      x: Object.keys(Tutorial1)[j],\n      y: Object.values(Tutorial1)[j]\n    });\n  }\n\n  for (var i = 0; i < data.length; i++) {\n    dataNeed.push(data);\n  }\n} //function to work out week of the year\n\n\nvar weekOfYear = function weekOfYear(date) {\n  var d = new Date(+date);\n  d.setHours(0, 0, 0);\n  d.setDate(d.getDate() + 4 - (d.getDay() || 7));\n  return Math.ceil(((d - new Date(d.getFullYear(), 0, 1)) / 8.64e7 + 1) / 7);\n}; //function to work out the current day of the year\n\n\nDate.prototype.isLeapYear = function () {\n  var year = this.getFullYear();\n  if ((year & 3) != 0) return false;\n  return year % 100 != 0 || year % 400 == 0;\n}; // Get Day of Year\n\n\nDate.prototype.getDOY = function () {\n  var dayCount = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n  var mn = this.getMonth();\n  var dn = this.getDate();\n  var dayOfYear = dayCount[mn] + dn;\n  if (mn > 1 && this.isLeapYear()) dayOfYear++;\n  return dayOfYear;\n};\n\nvar dayOfYear = function dayOfYear(date) {\n  return Math.floor((date - new Date(date.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);\n};\n\nfunction sortNumber(a, b) {\n  return a - b;\n}\n\nfunction quantile(array, percentile) {\n  array.sort(sortNumber);\n  var index = percentile / 100. * (array.length - 1);\n\n  if (Math.floor(index) == index) {\n    var result = array[index];\n  } else {\n    var i = Math.floor(index);\n    var fraction = index - i;\n    result = array[i] + (array[i + 1] - array[i]) * fraction;\n  }\n\n  return result;\n} // calculate sum\n\n\nfunction sumArr(arr) {\n  var a = arr.slice();\n  return a.reduce(function (a, b) {\n    return parseFloat(a) + parseFloat(b);\n  });\n} //calculate average\n\n\nfunction calcAverage(arr) {\n  var a = arr.slice();\n\n  if (a.length) {\n    var sum = sumArr(a);\n    var avg = sum / a.length;\n    return avg;\n  }\n\n  return false;\n} // Standard deviation\n\n\nfunction getSD(data) {\n  var m = calcAverage(data);\n  return Math.sqrt(data.reduce(function (sq, n) {\n    return sq + Math.pow(n - m, 2);\n  }, 0) / (data.length - 1));\n}\n\n;\n\nvar Time = /*#__PURE__*/function (_React$Component) {\n  _inherits(Time, _React$Component);\n\n  function Time(props) {\n    var _this;\n\n    _classCallCheck(this, Time);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Time).call(this, props));\n    _this.canvasRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(Time, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _ref, _ref2, _ref3, _ref4;\n\n      this.myChart = new Chart(this.canvasRef.current, {\n        type: 'scatter',\n        data: {\n          datasets: [(_ref = {\n            //input data\n            label: 'Tutorial Sheet 18',\n            data: [[newData18[0], newData18[1], newData18[2], newData18[3], newData18[4], newData18[5], newData18[6], newData18[7], newData18[8], newData18[9], newData18[10], newData18[11], newData18[12], newData18[13], newData18[14], newData18[15], newData18[16], newData18[18], newData18[18], newData18[19], newData18[20], newData18[21], newData18[22], newData18[23], newData18[24], newData18[25], newData18[26], newData18[27], newData18[28], newData18[29], newData18[30], newData18[31], newData18[32]] //plots week accessed\n            // {x: Object.keys(Tutorial18)[0], y: Object.values(Tutorial18)[0]}, \n            // {x: Object.keys(Tutorial18)[1], y: Object.values(Tutorial18)[1]}\n            ],\n            //plots week accessed\n            backgroundColor: '#0000cc',\n            borderColor: '#0000cc',\n            borderWidth: 3\n          }, _defineProperty(_ref, \"borderColor\", '#0000cc'), _defineProperty(_ref, \"hoverBorderWidth\", 3), _defineProperty(_ref, \"hoverBorderColor\", '#00'), _defineProperty(_ref, \"fill\", false), _defineProperty(_ref, \"showLine\", true), _ref), (_ref2 = {\n            //input data\n            label: 'Tutorial Sheet 17',\n            xAxesID: 'x-axis-2',\n            data: [newData17[0], newData17[1], newData17[2], newData17[3], newData17[4], newData17[5], newData17[6], newData17[7], newData17[8], newData17[9], newData17[10], newData17[11], newData17[12], newData17[13], newData17[14], newData17[15], newData17[16], newData17[17], newData17[18], newData17[19], newData17[20], newData17[21], newData17[22], newData17[23], newData17[24], newData17[25], newData17[26], newData17[27], newData17[28], newData17[29], newData17[30], newData17[31], newData17[32], newData17[33], newData17[34]],\n            //plots week accessed\n            backgroundColor: '#FFC208',\n            borderColor: '#FFC208',\n            borderWidth: 3\n          }, _defineProperty(_ref2, \"borderColor\", '#FFC208'), _defineProperty(_ref2, \"hoverBorderWidth\", 3), _defineProperty(_ref2, \"hoverBorderColor\", '#00'), _defineProperty(_ref2, \"fill\", false), _defineProperty(_ref2, \"showLine\", true), _ref2), (_ref3 = {\n            //input data\n            label: 'Tutorial Sheet 16',\n            data: [newData16[0], newData16[1], newData16[2], newData16[3], newData16[4], newData16[5], newData16[6], newData16[67], newData16[8], newData16[9], newData16[10], newData16[11], newData16[12], newData16[13], newData16[14], newData16[15], newData16[16], newData16[16], newData16[18], newData16[19], newData16[20], newData16[21], newData16[22], newData16[23], newData16[24], newData16[25], newData16[26], newData16[26], newData16[28], newData16[29], newData16[30]],\n            //plots week accessed\n            backgroundColor: '#E62D07',\n            borderColor: '#E62D07',\n            borderWidth: 3\n          }, _defineProperty(_ref3, \"borderColor\", '#E62D07'), _defineProperty(_ref3, \"hoverBorderWidth\", 3), _defineProperty(_ref3, \"hoverBorderColor\", '#00'), _defineProperty(_ref3, \"fill\", false), _defineProperty(_ref3, \"showLine\", true), _ref3), (_ref4 = {\n            //input data\n            label: 'Tutorial Sheet 15',\n            data: [newData15[0], newData15[1], newData15[2], newData15[3], newData15[4], newData15[5], newData15[6], newData15[7], newData15[8], newData15[9], newData15[10], newData15[11], newData15[12], newData15[13], newData15[14], newData15[15], newData15[16], newData15[15], newData15[18], newData15[19], newData15[20], newData15[21], newData15[22], newData15[23], newData15[24], newData15[25], newData15[26], newData15[27], newData15[28], newData15[29]],\n            //plots week accessed\n            backgroundColor: '#AB14FC',\n            borderColor: '#AB14FC',\n            borderWidth: 3\n          }, _defineProperty(_ref4, \"borderColor\", '#AB14FC'), _defineProperty(_ref4, \"hoverBorderWidth\", 3), _defineProperty(_ref4, \"hoverBorderColor\", '#00'), _defineProperty(_ref4, \"fill\", false), _defineProperty(_ref4, \"showLine\", true), _ref4)]\n        },\n        options: {\n          title: {\n            display: true,\n            text: 'Number of students who accessed tutorial sheet and when',\n            fontSize: 25\n          },\n          tooltips: {\n            mode: 'index',\n            intersect: false\n          },\n          legend: {\n            //display: flase, doesn't display legend\n            position: 'right',\n            display: true,\n            labels: {\n              fontColor: '#000'\n            }\n          },\n          layout: {\n            padding: {\n              left: 50,\n              right: 50,\n              bottom: 0,\n              top: 0\n            }\n          }\n        },\n        hover: {\n          mode: 'nearest',\n          intersect: true\n        },\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true,\n              suggestedMin: 0,\n              suggestedMax: 50\n            }\n          }]\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"canvas\", {\n        ref: this.canvasRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 14\n        }\n      });\n    }\n  }]);\n\n  return Time;\n}(React.Component);\n\nexport default Time;","map":{"version":3,"sources":["C:/Users/Emman/Documents/ME4/FYP/FinalDash/shards-dashboard-react/src/components/2020Graphs/TimeAnyalsis.js"],"names":["React","Chart","d3","dataNeed","csv","then","makeChart","students","console","log","dictSheet","Sheet18","Sheet17","Sheet16","Sheet15","Sheet14","Sheet13","Sheet12","Sheet11","Sheet10","Sheet9","Sheet8","Sheet7","Sheet6","Sheet5","Sheet4","Sheet3","Sheet2","Sheet1","i","length","count","j","key","Object","keys","value","date","Date","weekNumber","weekOfYear","Tutorial1","_","countBy","values","Tutorial2","Tutorial3","Tutorial4","Tutorial5","Tutorial6","Tutorial7","Tutorial8","Tutorial9","Tutorial10","Tutorial11","Tutorial12","Tutorial13","Tutorial14","Tutorial15","Tutorial16","Tutorial17","Tutorial18","newData18","push","x","y","newData17","newData16","newData15","newData14","newData13","newData12","newData11","newData10","newData9","newData8","newData7","newData6","newData5","newData4","newData3","newData2","newData1","data","d","setHours","setDate","getDate","getDay","Math","ceil","getFullYear","prototype","isLeapYear","year","getDOY","dayCount","mn","getMonth","dn","dayOfYear","floor","sortNumber","a","b","quantile","array","percentile","sort","index","result","fraction","sumArr","arr","slice","reduce","parseFloat","calcAverage","sum","avg","getSD","m","sqrt","sq","n","pow","Time","props","canvasRef","createRef","myChart","current","type","datasets","label","backgroundColor","borderColor","borderWidth","xAxesID","options","title","display","text","fontSize","tooltips","mode","intersect","legend","position","labels","fontColor","layout","padding","left","right","bottom","top","hover","scales","yAxes","ticks","beginAtZero","suggestedMin","suggestedMax","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Chart from \"../../utils/chart\";\r\nimport * as d3 from \"d3\";\r\n\r\nvar dataNeed =[];\r\nd3.csv(\"https://graphtest123.s3.eu-west-2.amazonaws.com/Fluids_Mobius_gradebook_sheets_1-18.csv\") // request csv file\r\n            .then(makeChart); // converts into an array then call makeChart() function\r\n\r\n        // calls function to make a chart after it has been converted into an array\r\n        function makeChart(students) { // takes in an array of students\r\n                // Student is an array of objects where each object is something like:\r\n                // {\r\n                //   \"Given\": \"Steffi Graf\",\r\n                //   \"Last\": \"Graf\",     \r\n                //   \"Class\": \"MECH50010 - Fluid Mechanics 2 2020-2021\",\r\n                //   \"Gender\": \"Female\"\r\n                //   \"Attempts\" : \"0\"\r\n                // }\r\n                    console.log(students)\r\n\r\n                //make dictionary for tutorial sheets - put in same order as csv\r\n                var dictSheet = {Sheet18:[] , Sheet17:[] , Sheet16:[] ,Sheet15:[], Sheet14:[], Sheet13:[], Sheet12:[], Sheet11:[], Sheet10:[], Sheet9:[], Sheet8:[], Sheet7:[], Sheet6:[], Sheet5:[], Sheet4:[], Sheet3:[], Sheet2:[], Sheet1:[]};\r\n\r\n                // for loop to check the week day when students started tutorial sheet\r\n                for (var i =0; i < students.length; i++){\r\n                    var count = -1;\r\n                    for (var j =9; j <= 94; j += 5){\r\n                        var key = Object.keys(students[i])[j]; // access title of start times\r\n                        var value = students[i][key] // gives date in raw form\r\n                        //convert date string into a time object\r\n                        var date = new Date(value);\r\n                        var weekNumber = weekOfYear(date);\r\n                        //need to account for imperial calendar with 3rd october as week 1\r\n                        if (weekOfYear(date) >= 40){\r\n                            weekNumber -= 39;\r\n                        } else {\r\n                            weekNumber += 13;\r\n                        }\r\n                        // console.log(\"This is the time in week\" + \" \" + weekOfYear(date) + \"this is imperial week:\" + \" \" + weekNumber)   \r\n                        if (value != 0){\r\n                            count ++;\r\n                        } else{\r\n                            continue\r\n                        }\r\n                    \r\n                    key = Object.keys(dictSheet)[count]; //accesses tutorial sheet dictionary\r\n                    dictSheet[key][i] = weekNumber;\r\n                    }\r\n\r\n                };\r\n                // console.log(\"outside the loop  \" + Object.values(dictSheet)[17])\r\n                    // counts and order the total students who started tutorial sheet18 in that week. key(week) : value(occurances)\r\n                    var Tutorial1 = _.countBy(Object.values(dictSheet)[17]); \r\n                    var Tutorial2 = _.countBy(Object.values(dictSheet)[16]);\r\n                    var Tutorial3 = _.countBy(Object.values(dictSheet)[15]);\r\n                    var Tutorial4 = _.countBy(Object.values(dictSheet)[14]);\r\n                    var Tutorial5 = _.countBy(Object.values(dictSheet)[13]);\r\n                    var Tutorial6 = _.countBy(Object.values(dictSheet)[12]);\r\n                    var Tutorial7 = _.countBy(Object.values(dictSheet)[11]);\r\n                    var Tutorial8 = _.countBy(Object.values(dictSheet)[10]);\r\n                    var Tutorial9 = _.countBy(Object.values(dictSheet)[9]);\r\n                    var Tutorial10 = _.countBy(Object.values(dictSheet)[8]);\r\n                    var Tutorial11 = _.countBy(Object.values(dictSheet)[7]);\r\n                    var Tutorial12 = _.countBy(Object.values(dictSheet)[6]);\r\n                    var Tutorial13 = _.countBy(Object.values(dictSheet)[5]);\r\n                    var Tutorial14 = _.countBy(Object.values(dictSheet)[4]);\r\n                    var Tutorial15 = _.countBy(Object.values(dictSheet)[3]);\r\n                    var Tutorial16 = _.countBy(Object.values(dictSheet)[2]);\r\n                    var Tutorial17 = _.countBy(Object.values(dictSheet)[1]);\r\n                    var Tutorial18 = _.countBy(Object.values(dictSheet)[0]);\r\n                    console.log(dictSheet)\r\n                console.log(Tutorial18) // creates array of weeks\r\n                // var page2 = Object.values(dictSheet)[0]\r\n                // console.log(page2)\r\n                var newData18 = [];\r\n                        for(var j=0; j < Object.keys(Tutorial18).length; j++){\r\n                            newData18.push({\r\n                                x: Object.keys(Tutorial18)[j],\r\n                                y: Object.values(Tutorial18)[j]\r\n                            });\r\n                        }\r\n                var newData17 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial17).length; j++){\r\n                        newData17.push({\r\n                            x: Object.keys(Tutorial17)[j],\r\n                            y: Object.values(Tutorial17)[j]\r\n                        });\r\n                    }\r\n                    var newData16 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial16).length; j++){\r\n                        newData16.push({\r\n                            x: Object.keys(Tutorial16)[j],\r\n                            y: Object.values(Tutorial16)[j]\r\n                        });\r\n                    }\r\n                    var newData15 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial15).length; j++){\r\n                        newData15.push({\r\n                            x: Object.keys(Tutorial15)[j],\r\n                            y: Object.values(Tutorial15)[j]\r\n                        });\r\n                    }\r\n                    var newData14 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial14).length; j++){\r\n                        newData14.push({\r\n                            x: Object.keys(Tutorial14)[j],\r\n                            y: Object.values(Tutorial14)[j]\r\n                        });\r\n                    }\r\n                    var newData13 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial13).length; j++){\r\n                        newData13.push({\r\n                            x: Object.keys(Tutorial13)[j],\r\n                            y: Object.values(Tutorial13)[j]\r\n                        });\r\n                    }\r\n                    var newData12 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial12).length; j++){\r\n                        newData12.push({\r\n                            x: Object.keys(Tutorial12)[j],\r\n                            y: Object.values(Tutorial12)[j]\r\n                        });\r\n                    }\r\n                    var newData11 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial11).length; j++){\r\n                        newData11.push({\r\n                            x: Object.keys(Tutorial11)[j],\r\n                            y: Object.values(Tutorial11)[j]\r\n                        });\r\n                    }\r\n                    var newData10 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial10).length; j++){\r\n                        newData10.push({\r\n                            x: Object.keys(Tutorial10)[j],\r\n                            y: Object.values(Tutorial10)[j]\r\n                        });\r\n                    }\r\n                    var newData9 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial9).length; j++){\r\n                        newData9.push({\r\n                            x: Object.keys(Tutorial9)[j],\r\n                            y: Object.values(Tutorial9)[j]\r\n                        });\r\n                    }\r\n                    var newData8 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial8).length; j++){\r\n                        newData8.push({\r\n                            x: Object.keys(Tutorial8)[j],\r\n                            y: Object.values(Tutorial8)[j]\r\n                        });\r\n                    }\r\n                    var newData7 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial7).length; j++){\r\n                        newData7.push({\r\n                            x: Object.keys(Tutorial7)[j],\r\n                            y: Object.values(Tutorial7)[j]\r\n                        });\r\n                    }\r\n                    var newData6 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial6).length; j++){\r\n                        newData6.push({\r\n                            x: Object.keys(Tutorial6)[j],\r\n                            y: Object.values(Tutorial6)[j]\r\n                        });\r\n                    }\r\n                    var newData5 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial5).length; j++){\r\n                        newData5.push({\r\n                            x: Object.keys(Tutorial5)[j],\r\n                            y: Object.values(Tutorial5)[j]\r\n                        });\r\n                    }\r\n                    var newData4 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial4).length; j++){\r\n                        newData4.push({\r\n                            x: Object.keys(Tutorial4)[j],\r\n                            y: Object.values(Tutorial4)[j]\r\n                        });\r\n                    }\r\n                    var newData3 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial3).length; j++){\r\n                        newData3.push({\r\n                            x: Object.keys(Tutorial3)[j],\r\n                            y: Object.values(Tutorial3)[j]\r\n                        });\r\n                    }\r\n                    var newData2 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial2).length; j++){\r\n                        newData2.push({\r\n                            x: Object.keys(Tutorial2)[j],\r\n                            y: Object.values(Tutorial2)[j]\r\n                        });\r\n                    }\r\n                    var newData1 = [];\r\n                    for(var j=0; j < Object.keys(Tutorial1).length; j++){\r\n                        newData1.push({\r\n                            x: Object.keys(Tutorial1)[j],\r\n                            y: Object.values(Tutorial1)[j]\r\n                        });\r\n                    }\r\n\r\n    for(var i=0; i < data.length; i++){\r\n        dataNeed.push(data)\r\n    }\r\n}\r\n\r\n\r\n//function to work out week of the year\r\nvar weekOfYear = function(date){\r\nvar d = new Date(+date);\r\nd.setHours(0,0,0);\r\nd.setDate(d.getDate()+4-(d.getDay()||7));\r\nreturn Math.ceil((((d-new Date(d.getFullYear(),0,1))/8.64e7)+1)/7);\r\n};\r\n\r\n//function to work out the current day of the year\r\nDate.prototype.isLeapYear = function() {\r\nvar year = this.getFullYear();\r\nif((year & 3) != 0) return false;\r\nreturn ((year % 100) != 0 || (year % 400) == 0);\r\n};\r\n\r\n// Get Day of Year\r\nDate.prototype.getDOY = function() {\r\nvar dayCount = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\r\nvar mn = this.getMonth();\r\nvar dn = this.getDate();\r\nvar dayOfYear = dayCount[mn] + dn;\r\nif(mn > 1 && this.isLeapYear()) dayOfYear++;\r\nreturn dayOfYear;\r\n};\r\n\r\nconst dayOfYear = date =>\r\nMath.floor((date - new Date(date.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);\r\n\r\n\r\nfunction sortNumber(a,b) {\r\nreturn a - b;\r\n}\r\n\r\nfunction quantile(array, percentile) {\r\n    array.sort(sortNumber);\r\n    var index = percentile/100. * (array.length-1);\r\n    if (Math.floor(index) == index) {\r\n        var result = array[index];\r\n    } else {\r\n        var i = Math.floor(index)\r\n        var fraction = index - i;\r\n        result = array[i] + (array[i+1] - array[i]) * fraction;\r\n    }\r\n    return result;\r\n}\r\n\r\n// calculate sum\r\nfunction sumArr(arr){\r\n    var a = arr.slice();\r\n    return a.reduce(function(a, b) { return parseFloat(a) + parseFloat(b); });\r\n}\r\n\r\n//calculate average\r\nfunction calcAverage(arr){\r\n    var a = arr.slice();\r\n    if (a.length){\r\n        var sum = sumArr(a);\r\n        var avg = sum / a.length;\r\n        return avg;\r\n    }    \r\n    return false;\r\n}\r\n\r\n// Standard deviation\r\nfunction getSD(data) {\r\n    let m = calcAverage(data);\r\n    return Math.sqrt(data.reduce(function (sq, n) {\r\n            return sq + Math.pow(n - m, 2);\r\n        }, 0) / (data.length - 1));\r\n};\r\n\r\nclass Time extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.canvasRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.myChart = new Chart(this.canvasRef.current, {\r\n        type: 'scatter',\r\n        data: {\r\n                \r\n            datasets: [{ //input data\r\n                label: 'Tutorial Sheet 18',\r\n                data: [\r\n                [newData18[0], newData18[1], newData18[2], newData18[3], newData18[4],newData18[5],newData18[6], newData18[7], newData18[8], newData18[9], newData18[10], newData18[11], newData18[12] ,newData18[13],newData18[14], newData18[15], newData18[16],newData18[18],newData18[18], newData18[19], newData18[20], newData18[21], newData18[22], newData18[23], newData18[24],newData18[25],newData18[26], newData18[27], newData18[28], newData18[29], newData18[30], newData18[31], newData18[32]], //plots week accessed\r\n                    // {x: Object.keys(Tutorial18)[0], y: Object.values(Tutorial18)[0]}, \r\n                    // {x: Object.keys(Tutorial18)[1], y: Object.values(Tutorial18)[1]}\r\n                ], //plots week accessed\r\n                backgroundColor: '#0000cc',\r\n                borderColor: '#0000cc',\r\n                borderWidth: 3,\r\n                borderColor: '#0000cc',\r\n                hoverBorderWidth: 3,\r\n                hoverBorderColor: '#00',\r\n                fill : false,\r\n                showLine: true\r\n            },\r\n            { //input data\r\n                label: 'Tutorial Sheet 17',\r\n                xAxesID: 'x-axis-2',\r\n                data: [newData17[0], newData17[1], newData17[2], newData17[3], newData17[4],newData17[5],newData17[6], newData17[7], newData17[8], newData17[9], newData17[10], newData17[11], newData17[12] ,newData17[13],newData17[14], newData17[15], newData17[16],newData17[17],newData17[18], newData17[19], newData17[20], newData17[21], newData17[22], newData17[23], newData17[24],newData17[25],newData17[26], newData17[27], newData17[28], newData17[29], newData17[30], newData17[31], newData17[32], newData17[33], newData17[34]], //plots week accessed\r\n                backgroundColor: '#FFC208',\r\n                borderColor: '#FFC208',\r\n                borderWidth: 3,\r\n                borderColor: '#FFC208',\r\n                hoverBorderWidth: 3,\r\n                hoverBorderColor: '#00',\r\n                fill : false,\r\n                showLine: true\r\n\r\n            },\r\n            { //input data\r\n                label: 'Tutorial Sheet 16',\r\n                data: [newData16[0], newData16[1], newData16[2], newData16[3], newData16[4],newData16[5],newData16[6], newData16[67], newData16[8], newData16[9], newData16[10], newData16[11], newData16[12] ,newData16[13],newData16[14], newData16[15], newData16[16],newData16[16],newData16[18], newData16[19], newData16[20], newData16[21], newData16[22], newData16[23], newData16[24],newData16[25],newData16[26], newData16[26], newData16[28], newData16[29], newData16[30]], //plots week accessed\r\n                backgroundColor: '#E62D07',\r\n                borderColor: '#E62D07',\r\n                borderWidth: 3,\r\n                borderColor: '#E62D07',\r\n                hoverBorderWidth: 3,\r\n                hoverBorderColor: '#00',\r\n                fill : false,\r\n                showLine: true\r\n            },\r\n            { //input data\r\n                label: 'Tutorial Sheet 15',\r\n                data: [newData15[0], newData15[1], newData15[2], newData15[3], newData15[4],newData15[5],newData15[6], newData15[7], newData15[8], newData15[9], newData15[10], newData15[11], newData15[12] ,newData15[13],newData15[14], newData15[15], newData15[16],newData15[15],newData15[18], newData15[19], newData15[20], newData15[21], newData15[22], newData15[23], newData15[24],newData15[25],newData15[26], newData15[27], newData15[28], newData15[29]], //plots week accessed\r\n                backgroundColor: '#AB14FC',\r\n                borderColor: '#AB14FC',\r\n                borderWidth: 3,\r\n                borderColor: '#AB14FC',\r\n                hoverBorderWidth: 3,\r\n                hoverBorderColor: '#00',\r\n                fill : false,\r\n                showLine: true\r\n            },\r\n            // { //input data\r\n            //     label: 'Tutorial Sheet 14',\r\n            //     data: [newData14[0], newData14[1], newData14[2], newData14[3], newData14[4],newData14[5],newData14[6], newData14[7], newData14[8], newData14[9], newData14[10], newData14[11], newData14[12] ,newData14[13],newData14[14], newData14[15], newData14[16],newData14[14],newData14[18], newData14[19], newData14[20], newData14[21], newData14[22], newData14[23], newData14[24],newData14[25],newData14[26], newData14[27], newData14[28]], //plots week accessed\r\n            //     backgroundColor: '#0781E6',\r\n            //     borderColor: '#0781E6',\r\n            //     borderWidth: 3,\r\n            //     borderColor: '#0781E6',\r\n            //     hoverBorderWidth: 3,\r\n            //     hoverBorderColor: '#00',\r\n            //     fill : false,\r\n            //     showLine: true\r\n            // },\r\n            // { //input data\r\n            //     label: 'Tutorial Sheet 13',\r\n            //     data: [newData13[0], newData13[1], newData13[2], newData13[3], newData13[4],newData13[5],newData13[6], newData13[7], newData13[8], newData13[9], newData13[10], newData13[11], newData13[12] ,newData13[13],newData13[14], newData13[15], newData13[16],newData13[13],newData13[18], newData13[19], newData13[20], newData13[21], newData13[22], newData13[23], newData13[24],newData13[25],newData13[26], newData13[27], newData13[28], newData13[29], newData13[30], newData13[31]], //plots week accessed\r\n            //     backgroundColor: '#08FE3E',\r\n            //     borderColor: '#08FE3E',\r\n            //     borderWidth: 3,\r\n            //     borderColor: '#08FE3E',\r\n            //     hoverBorderWidth: 3,\r\n            //     hoverBorderColor: '#00',\r\n            //     fill : false,\r\n            //     showLine: true\r\n            // },\r\n            // { //input data\r\n            //     label: 'Tutorial Sheet 12',\r\n            //     data: [newData12[0], newData12[1], newData12[2], newData12[3], newData12[4],newData12[5],newData12[6], newData12[7], newData12[8], newData12[9], newData12[10], newData12[11], newData12[12] ,newData12[13],newData12[14], newData12[15], newData12[16],newData12[12],newData12[18], newData12[19], newData12[20], newData12[21], newData12[22], newData12[23], newData12[24],newData12[25],newData12[26], newData12[27], newData12[28], newData12[29], newData12[30]], //plots week accessed\r\n            //     backgroundColor: '#FFDAA6',\r\n            //     borderColor: '#FFDAA6',\r\n            //     borderWidth: 3,\r\n            //     borderColor: '#FFDAA6',\r\n            //     hoverBorderWidth: 3,\r\n            //     hoverBorderColor: '#00',\r\n            //     fill : false,\r\n            //     showLine: true\r\n            // },\r\n            // { //input data\r\n            //     label: 'Tutorial Sheet 11',\r\n            //     data: [newData11[0], newData11[1], newData11[2], newData11[3], newData11[4],newData11[5],newData11[6], newData11[7], newData11[8], newData11[9], newData11[10], newData11[11], newData11[12] ,newData11[13],newData11[14], newData11[15], newData11[16],newData11[11],newData11[18], newData11[19], newData11[20], newData11[21], newData11[22], newData11[23], newData11[24],newData11[25],newData11[26], newData11[27], newData11[28]], //plots week accessed\r\n            //     backgroundColor: '#E897A7',\r\n            //     borderColor: '#E897A7',\r\n            //     borderWidth: 3,\r\n            //     borderColor: '#E897A7',\r\n            //     hoverBorderWidth: 3,\r\n            //     hoverBorderColor: '#00',\r\n            //     fill : false,\r\n            //     showLine: true\r\n            // },\r\n        //     { //input data\r\n        //         label: 'Tutorial Sheet 10',\r\n        //         data: [newData10[0], newData10[1], newData10[2], newData10[3], newData10[4],newData10[5],newData10[6], newData10[7], newData10[8], newData10[9], newData10[10], newData10[11], newData10[12] ,newData10[13],newData10[14], newData10[15], newData10[16],newData10[10],newData10[18], newData10[19], newData10[20], newData10[21], newData10[22], newData10[23], newData10[24],newData10[25],newData10[26], newData10[27], newData10[28], newData10[29], newData10[30]], //plots week accessed\r\n        //         backgroundColor: '#C4B3FF',\r\n        //         borderColor: '#C4B3FF',\r\n        //         borderWidth: 3,\r\n        //         borderColor: '#C4B3FF',\r\n        //         hoverBorderWidth: 3,\r\n        //         hoverBorderColor: '#00',\r\n        //         fill : false,\r\n        //         showLine: true\r\n        //     },\r\n        //     { //input data\r\n        //         label: 'Tutorial Sheet 9',\r\n        //         data: [newData9[0], newData9[1], newData9[2], newData9[3], newData9[4],newData9[5],newData9[6], newData9[7], newData9[8], newData9[9], newData9[10], newData9[11], newData9[12] ,newData9[13],newData9[14], newData9[15], newData9[16],newData9[9],newData9[18], newData9[19], newData9[20], newData9[21], newData9[22], newData9[23], newData9[24],newData9[25],newData9[26]], //plots week accessed\r\n        //         backgroundColor: '#97E5E8',\r\n        //         borderColor: '#97E5E8',\r\n        //         borderWidth: 3,\r\n        //         borderColor: '#97E5E8',\r\n        //         hoverBorderWidth: 3,\r\n        //         hoverBorderColor: '#00',\r\n        //         fill : false,\r\n        //         showLine: true\r\n        //     },\r\n        //     { //input data\r\n        //         label: 'Tutorial Sheet 8',\r\n        //         data: [newData8[0], newData8[1], newData8[2], newData8[3], newData8[4],newData8[5],newData8[6], newData8[7], newData8[8], newData8[9], newData8[10], newData8[11], newData8[12] ,newData8[13],newData8[14], newData8[15], newData8[16],newData8[8],newData8[18], newData8[19], newData8[20], newData8[21], newData8[22], newData8[23], newData8[24],newData8[25],newData8[26], newData8[27], newData8[28], newData8[29], newData8[30]], //plots week accessed\r\n        //         backgroundColor: '#BFFFA6',\r\n        //         borderColor: '#BFFFA6',\r\n        //         borderWidth: 3,\r\n        //         borderColor: '#BFFFA6',\r\n        //         hoverBorderWidth: 3,\r\n        //         hoverBorderColor: '#00',\r\n        //         fill : false,\r\n        //         showLine: true\r\n        //     },\r\n        //     { //input data\r\n        //         label: 'Tutorial Sheet 7',\r\n        //         data: [newData7[0], newData7[1], newData7[2], newData7[3], newData7[4],newData7[5],newData7[6], newData7[7], newData7[8], newData7[9], newData7[10], newData7[11], newData7[12] ,newData7[13],newData7[14], newData7[15], newData7[16],newData7[7],newData7[18], newData7[19], newData7[20], newData7[21], newData7[22], newData7[23], newData7[24],newData7[25],newData7[26], newData7[27], newData7[28], newData7[29], newData7[30], newData7[31]], //plots week accessed\r\n        //         backgroundColor: '#FFF775',\r\n        //         borderColor: '#FFF775',\r\n        //         borderWidth: 3,\r\n        //         borderColor: '#FFF775',\r\n        //         hoverBorderWidth: 3,\r\n        //         hoverBorderColor: '#00',\r\n        //         fill : false,\r\n        //         showLine: true\r\n        //     },\r\n        //     { //input data\r\n        //         label: 'Tutorial Sheet 6',\r\n        //         data: [newData6[0], newData6[1], newData6[2], newData6[3], newData6[4],newData6[5],newData6[6], newData6[7], newData6[8], newData6[9], newData6[10], newData6[11], newData6[12] ,newData6[13],newData6[14], newData6[15], newData6[16],newData6[6],newData6[18], newData6[19], newData6[20], newData6[21], newData6[22], newData6[23]], //plots week accessed\r\n        //         backgroundColor: '#E8A36B',\r\n        //         borderColor: '#E8A36B',\r\n        //         borderWidth: 3,\r\n        //         borderColor: '#E8A36B',\r\n        //         hoverBorderWidth: 3,\r\n        //         hoverBorderColor: '#00',\r\n        //         fill : false,\r\n        //         showLine: true\r\n        //     },\r\n        //     { //input data\r\n        //         label: 'Tutorial Sheet 5',\r\n        //         data: [newData5[0], newData5[1], newData5[2], newData5[3], newData5[4],newData5[5],newData5[6], newData5[7], newData5[8], newData5[9], newData5[10], newData5[11], newData5[12] ,newData5[13],newData5[14], newData5[15], newData5[16],newData5[5],newData5[18], newData5[19], newData5[20], newData5[21], newData5[22], newData5[23], newData5[24],newData5[25],newData5[26], newData5[27], newData5[28], newData5[29]], //plots week accessed\r\n        //         backgroundColor: '#FF83D9',\r\n        //         borderColor: '#FF83D9',\r\n        //         borderWidth: 3,\r\n        //         borderColor: '#FF83D9',\r\n        //         hoverBorderWidth: 3,\r\n        //         hoverBorderColor: '#00',\r\n        //         fill : false,\r\n        //         showLine: true\r\n        //     },\r\n        //     { //input data\r\n        //         label: 'Tutorial Sheet 4',\r\n        //         data: [newData4[0], newData4[1], newData4[2], newData4[3], newData4[4],newData4[5],newData4[6], newData4[7], newData4[8], newData4[9], newData4[10], newData4[11], newData4[12] ,newData4[13],newData4[14], newData4[15], newData4[16],newData4[4],newData4[18], newData4[19], newData4[20], newData4[21], newData4[22]], //plots week accessed\r\n        //         backgroundColor: '#6B71E8',\r\n        //         borderColor: '#6B71E8',\r\n        //         borderWidth: 3,\r\n        //         borderColor: '#6B71E8',\r\n        //         hoverBorderWidth: 3,\r\n        //         hoverBorderColor: '#00',\r\n        //         fill : false,\r\n        //         showLine: true\r\n        //     },\r\n        //     { //input data\r\n        //         label: 'Tutorial Sheet 3',\r\n        //         data: [newData3[0], newData3[1], newData3[2], newData3[3], newData3[4],newData3[5],newData3[6], newData3[7], newData3[8], newData3[9], newData3[10], newData3[11], newData3[12] ,newData3[13],newData3[14], newData3[15], newData3[16],newData3[3],newData3[18], newData3[19], newData3[20], newData3[21], newData3[22], newData3[23], newData3[23]], //plots week accessed\r\n        //         backgroundColor: '#75FFDD',\r\n        //         borderColor: '#75FFDD',\r\n        //         borderWidth: 3,\r\n        //         borderColor: '#75FFDD',\r\n        //         hoverBorderWidth: 3,\r\n        //         hoverBorderColor: '#00',\r\n        //         fill : false,\r\n        //         showLine: true\r\n        //     },\r\n        //     { //input data\r\n        //         label: 'Tutorial Sheet 2',\r\n        //         data: [newData2[0], newData2[1], newData2[2], newData2[3], newData2[4],newData2[5],newData2[6], newData2[7], newData2[8], newData2[9], newData2[10], newData2[11], newData2[12] ,newData2[13],newData2[14], newData2[15], newData2[16],newData2[2],newData2[18], newData2[19], newData2[20], newData2[21], newData2[22], newData2[23], newData2[24],newData2[25]], //plots week accessed\r\n        //         backgroundColor: '#802D56',\r\n        //         borderColor: '#802D56',\r\n        //         borderWidth: 3,\r\n        //         borderColor: '#802D56',\r\n        //         hoverBorderWidth: 3,\r\n        //         hoverBorderColor: '#00',\r\n        //         fill : false,\r\n        //         showLine: true\r\n        //     },\r\n            // { //input data\r\n            //     label: 'Tutorial Sheet 1',\r\n            //     data: [newData1[0], newData1[1], newData1[2], newData1[3], newData1[4],newData1[5],newData1[6], newData1[7], newData1[8], newData1[9], newData1[10], newData1[11], newData1[12] ,newData1[13],newData1[14], newData1[15], newData1[16],newData1[17],newData1[18]], //plots week accessed\r\n            //     backgroundColor: '#CC478A',\r\n            //     borderColor: '#CC478A',\r\n            //     borderWidth: 3,\r\n            //     borderColor: '#CC478A',\r\n            //     hoverBorderWidth: 3,\r\n            //     hoverBorderColor: '#00',\r\n            //     fill : false,\r\n            //     showLine: true\r\n            // }, \r\n        ]\r\n        },\r\n        options: {\r\n            title: {\r\n                display: true,\r\n                text: 'Number of students who accessed tutorial sheet and when',\r\n                fontSize: 25\r\n            },\r\n\r\n                tooltips: {\r\n                mode: 'index',\r\n                intersect: false,\r\n                },\r\n            legend: {\r\n                //display: flase, doesn't display legend\r\n                position: 'right',\r\n                display: true,\r\n                labels: {\r\n                    fontColor: '#000'\r\n                }\r\n            },\r\n            layout: {\r\n                padding: {\r\n                    left: 50,\r\n                    right: 50,\r\n                    bottom: 0,\r\n                    top:0\r\n                }\r\n            },\r\n        },\r\n            hover: {\r\n                mode: 'nearest',\r\n                intersect: true\r\n            },\r\n            scales: {\r\n                yAxes: [{\r\n                    ticks: {\r\n                    beginAtZero:true,\r\n                    suggestedMin: 0,\r\n                    suggestedMax: 50\r\n\r\n                    }\r\n                }]\r\n            },\r\n        \r\n    });\r\n\r\n}\r\n  \r\n    render() {\r\n      return <canvas ref={this.canvasRef} />;\r\n    }\r\n  }\r\n\r\n\r\n\r\nexport default Time;\r\n"]},"metadata":{},"sourceType":"module"}